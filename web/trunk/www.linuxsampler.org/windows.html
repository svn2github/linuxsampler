<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>LinuxSampler For Windows</title>
  <link rel="shortcut icon" href="http://download.linuxsampler.org/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="libgig/css/content.css" title="content" media="all">
</head>
<body>
<h2><center>LinuxSampler for Windows &nbsp; <img src="gfx/logos/windows.png"> &nbsp; HOWTO by Benno Senoner&nbsp;</center></h2>
<br>
<center>December&nbsp;18th,&nbsp;2007</center><br>
<div style="background-color: #F4F4FF; margin: 1em 3em 1em 3em; padding: 1em 1em 1em 2.2em;">
<a href="#intro">1.&nbsp; Introduction</a><br>
<a href="#requirements">2.&nbsp; Requirements</a><br>
3.&nbsp; Installation ...<br>
<a href="#install_w_inet">&nbsp;&nbsp;&nbsp;&nbsp;3.a&nbsp; with Internet Connection</a><br>
<a href="#install_wo_inet">&nbsp;&nbsp;&nbsp;&nbsp;3.b&nbsp; without Internet</a><br>
<a href="#using">4.&nbsp; Using the Applications</a><br>
<a href="#setup_midi">&nbsp;&nbsp;&nbsp;&nbsp;4.1&nbsp; Setting up MIDI Input</a><br>
<a href="#setup_audio">&nbsp;&nbsp;&nbsp;&nbsp;4.2&nbsp; Setting up Audio Output</a><br>
<a href="#load_samples">&nbsp;&nbsp;&nbsp;&nbsp;4.3&nbsp; Loading Samples</a><br>
<a href="#save_session">&nbsp;&nbsp;&nbsp;&nbsp;4.4&nbsp; Saving a Sampler Session</a><br>
<a href="#sequencer_routing">&nbsp;&nbsp;&nbsp;&nbsp;4.5&nbsp; Routing LinuxSampler Outs Into Sequencer</a><br>
<a href="#houston">5.&nbsp; Installation Troubleshooting</a><br>
<a href="#docs">6.&nbsp; Detailed Documentation</a><br>
<a href="#bugs">7.&nbsp; Bugs, Problems and Feature Requests</a><br>
<a href="#contact">8.&nbsp; Contact</a><br>
</div>

<a name="intro"></a>
<h3>1.&nbsp; Introduction</h3>
The LinuxSampler development team is happy to announce that
LinuxSampler, the most advanced free, open source sampler finally runs on
MS Windows too. More information will be added here soon, so check back frequently.<br>
<br>
For now the sampler supports the Windows Multimedia Extensions System (MME)
for MIDI input and ASIO for audio out. This means it currently runs only
as a standalone application. A VST interface will follow soon, along with
a network module to run multiple sampler slaves distributed on Windows or
Linux machines (Linux provides better performance) all controlled from a
Windows box i.e. running the VST sequencer.<br>
<br>
LinuxSampler is implemented as a client/server application. This means
the sampling engine (the server / backend) runs
independently from the GUI (the client / frontend). Sampling engine and
client can be run on the same box or on different machines too, connected
over the network.<br>
<br>
The MS Windows version provides all the features of the Linux version
(except of the instruments DB feature yet) since it is built from the
same source code base. This means when new features will come out the
Windows version will usually provide the same feature set as the Linux
version. This was made possible by the very modular design of both
low level, operating system functions and flexible audio / MIDI driver
system.<br>
<br>
The Windows version comes as a self extracting .exe file which will
install all the necessary modules to run both the server ( linuxsampler.exe )
and the GUI client. It installs 2 GUI clients:
<ul>
  <li>One is <b>QSampler</b>, a light-weight frontend based on the
      cross-platform Qt4 GUI toolkit with native OS GUI widgets</li>
  <li>Another is <b>JSampler "Fantasia"</b>, a Java based GUI client called,
      providing a modern skin-based user interface</li>
</ul>
At the moment JSampler is more advanced than QSampler as it implements all
the functionality present in the LinuxSampler engine. Due to the Java
virtual machine however it occupies a bit more RAM than the
QSsampler GUI (around 30MB or so) and takes a bit longer for startup,
but on a 1GB+ RAM box the difference should be negligible.

<a name="requirements"></a>
<h3>2.&nbsp; Requirements</h3>
<ul>
  <li>Intel Pentium4 or recent AMD processor (use
    <a href="#old_cpu_workaround">this workaround for older processors</a>)
  <li>Windows 2000, ME, XP or Vista</li>
  <li><a href="http://www.gtk.org/">GTK+</a> (<a href="http://downloads.sourceforge.net/gladewin32/gtk-2.10.11-win32-1.exe?modtime=1175123376&big_mirror=0">version 2.10.11</a>)</li>
  <li><a href="http://www.gtkmm.org/">gtkmm</a> (<a href="http://ftp.gnome.org/pub/gnome/binaries/win32/gtkmm/2.10/gtkmm-win32-runtime-2.10.11-1.exe">version 2.10.11</a>)</li>
  <li><a href="http://en.wikipedia.org/wiki/Java_(Sun)">Java Runtime Environment</a> (<a href="http://www.java.com/getjava/">version 6</a>)</a></li>
  <li>sound card with <a href="http://en.wikipedia.org/wiki/Audio_Stream_Input/Output">ASIO</a> driver</li>
</ul>
<a name="asio_tip"></a>
<b>Tip:</b> For consumer audio cards which do not come with their own ASIO
drivers you can install <a href="http://www.asio4all.com/">ASIO4ALL</a> to be
able to use LinuxSampler with your soundcard.
We recommend to use version 2.7, perhaps on Vista 2.8beta1 works better but
we did not perform tests on Vista so we cannot tell it. Please let us know
about your results so we can share them here!

<a name="install_w_inet"></a>
<h3>3.a&nbsp; Installation with Internet Connection</h3>
Simply download the latest version of the LinuxSampler Windows installer
from the <a href="http://www.linuxsampler.org/downloads.html">LinuxSampler
Download Page</a>, execute the installer and follow the instructions. It will
automatically detect if the required software components are already installed.
If not, it will download them from the internet and install them on your
computer.

<a name="install_wo_inet"></a>
<h3>3.b&nbsp; Installation without Internet</h3>
First download the required components with a machine which has connection to
the internet:
<ul>
  <li><a href="http://downloads.sourceforge.net/gladewin32/gtk-2.10.11-win32-1.exe?modtime=1175123376&big_mirror=0">gtk+ 2.10.11</a></li>
  <li><a href="http://ftp.gnome.org/pub/gnome/binaries/win32/gtkmm/2.10/gtkmm-win32-runtime-2.10.11-1.exe">gtkmm 2.10.11</a></li>
  <li><a href="http://www.java.com/getjava/">Java Runtime Environment 6</a></li>
  <li>and of course the latest <a href="http://www.linuxsampler.org/downloads.html">
     LinuxSampler Windows installer</a></li>
</ul>
Transfer the downloaded files to the computer where you want to install
LinuxSampler and install them in the following order:
<ol>
  <li>gtk-2.10.11-win32-1.exe</li>
  <li>gtkmm-win32-runtime-2.10.11-1.exe</li>
  <li>jre-6u2-windows-i586-p.exe</li>
  <li>linuxsampler_20071207_setup.exe</li>
</ol>
The order is important, since the components depend on each other and would
otherwise try to download the missing component from the internet.

<a name="using"></a>
<h3>4.&nbsp; Using the Applications</h3>
Now that we installed everything, let's get wet and start the applications:
<ol>
  <li>First start the LinuxSampler backend: Click on <i>"Start" ->
      "LinuxSampler" -> "LinuxSampler 0.5.1 (backend)"</i>. A black console
      window should immediately popup. It does what you think it does:
      nothing ... yet ... because this is "just" the raw sampler, without a
      user interface.</li>
  <li>Now start a "frontend" application to actually control the previously
      started sampler. For beginners and / or unpatient people, we recommend
      you to use JSampler: Click on <i>"Start" -> "LinuxSampler" ->
      "JSampler 'Fantasia' 0.8a (frontend)"</i>. This usually takes about
      20 seconds or so until the application finally appears on the
      screens.</li>
</ol>
</div>

<a name="setup_midi"></a>
<h3>4.1&nbsp; Setting up MIDI Input</h3>
Once the GUI opens, click on the left round button in the MIDI devices
tab.
At this point a window will open where you can create a new MIDI device.
Press Create. The window will close and the MIDI device will be created.
(MIDI Device 0 MME).
Now click on the right arrow which points downwards.
You can see that a MIDI device with a single Port (Port 0) was created.
Under Windows MME LinuxSampler always creates MIDI devices which are
connected to a single MME port.
To select the MIDI input port you must click on the field located on
the left of PORT.
A combobox pops-up where you can select the Windows MIDI port.<br>
<br>
You can create an arbitrary number of MIDI input devices by repeating
the procedure above.
Each MIDI input device is connected to a single Windows MME MIDI port.
This means LinuxSampler has no limitation in terms of number of MIDI
ports.
Each MIDI device can be routed to arbitrary sampler channels.

<a name="setup_audio"></a>
<h3>4.2&nbsp; Setting up Audio Output</h3>
LinuxSampler currently only supports the ASIO driver model for audio output
on Windows. ASIO drivers ensure reliable low-latency operation and are
virtually available for any soundcard (see <a href="#asio_tip">
ASIO requirements tip</a>).<br>
<br>
Click on the left round button in the Audio Devices tab.
At this point a window will open where you can create a new MIDI device.
When creating the Audio device you can set several parameters:
<ul>
  <li><b>CARD</b> : The name of the soundcard, in case you have multiple cards
      installed. It will show the default value (first card found).</li>
  <li><b>CHANNELS</b> : Number of audio output channels, can range from 1 to
      maximum number of channels your soundcard supports. We recommend to
      leave the default value which is the maximum number of channels your
      soundcard supports.</li>
  <li><b>FRAGMENTSIZE</b> : ASIO buffer size in samples. The card's default
      value is shown. If you experience clicks and pops during audio
      playback then initialize the audio output device with bigger values.
      (better if it's always a power of 2:&nbsp; e.g. 256, 512, 1024)</li>
  <li><b>SAMPLERATE</b> : Sets the samplerate. The default value is shown.<br>
</ul>
Now Press "Create". The window will close and the Audio device will be
created: "AUDIO DEVICE 0 (ASIO)" appears.

<a name="load_samples"></a>
<h3>4.3&nbsp; Loading Samples</h3>
In the middle of the screen below the volume slider, you see the sampler
channel strip pane. press on the round button located on the left.
This will create a new sampler channel. Click on "Load Instrument".
This opens a dialog which allows you to select an instrument to be
loaded in the sampler channel

(for information on how to use "orchestras" <a
 href="http://www.linuxsampler.org/jsampler/manual/html/jsampler.html#USING_ORCHESTRAS">click
here</a>, but note: orchestras, a.k.a "instruments database" is not yet supported in this
first Windows version of LinuxSampler, but will certainly be on the next Windows release).

On the row&nbsp; "Select instrument from file" click on the orange icon
located on the right side. This opens a file dialog which allows you to
select a sample to be loaded
(currently only the GIG format is supported).
Select the sample to be loaded and then click on "Open".
At this point the fields Instrument file shows the filename.
You can click on the Instrument index and select the specific
instrument contained in the instrument file. Now press "OK".<br>
<br>
While it loads you see: "Loading" .. "90%" .. "100%" <br>
<br>
Once loaded, you see the Instrument's name: i.e.&nbsp;"FreePiano"<br>
<br>
On the left side of the sampler channel click on the arrow below
"Options".
This pane permits to set MIDI input device, port and channel and oudio
output channel.
Notice that under Windows MME the Port value is always 0.
So the only values you can change is "MIDI device" (normally 0 if you
created only a single
MIDI input device) and the MIDI channel (from 1 to 16).

<a name="save_session"></a>
<h3>4.4&nbsp; Saving a Sampler Session</h3>
Click on the 3rd icon from the left on the row where you see the round
icon with the LinuxSampler "S"-shape logo.
Now select the directory where you want to save the file to (extension
.lscp = <i>Linux Sampler Control Protocol</i>).
Enter the name and press save (add .lscp at end of file otherwise you
will not see it in the file-open dialog later, when you want to load it again).<br>
<br>
Next time you can load a sampler session by clicking on the second icon
from the left, then select a .lscp file in the file dialog and press "Open".
This will automatically set up the MIDI devices and audio devices,
create the sampler channels and load all the samples that were previously
loaded by you in the saved sampler session.

<a name="sequencer_routing"></a>
<h3>4.5&nbsp; Routing LinuxSampler Outs Into Sequencer</h3>
LinuxSampler currently lacks a VST interface so the only way to route LinuxSampler's outs into a sequencer
are either by using physical cables or internal routing via ASIO. Some audio cards offer this feature.
<br>
The <a href="http://www.reaper.fm">Reaper</A> sequencer allows ASIO routing by implementing a virtual
ASIO based driver independently from the soundcard type (ReaRoute). Basically in LinuxSampler you select the ReaRoute  as ASIO output driver which
appear as input ports in Reaper. Coupled with the MIDI controllable FX sends in LinuxSampler you can use
Reaper's FX egine to add reverb, chorus etc to LinuxSampler instruments, fully MIDI controllable, similar to
other MIDI based modules.
<br>
Our forum user moonskin (thanks Graham!) has described the steps needed to perform in order to set up the routing.
<a href="http://bb.linuxsampler.org/viewtopic.php?f=6&t=111&sid=d745353791f6cb1ef46946af4168aada&start=10#p944">
See here</a>


<a name="houston"></a>
<h3>5.&nbsp; Installation Troubleshooting</h3>
<ul>
  <li>
    <div style="background-color: #FFF2F2;">
      <u>Problem:</u> The LinuxSampler backend application
      (<i>linuxsampler.exe</i>) fails to start with an error message that
      claims that a DLL file is missing (e.g. <i>libatkmm-1.6-1.dll</i>)
    </div>
    <div style="background-color: #F2FFF2;">
      <u>Reason / Solution:</u>
      It could happen that due to previous installations of Gtk+ and gtkmm
      DLLs even after deinstallation leave some stale keys in the windows
      registry which could fool the installer into believing that the needed
      DLLs are already installed therefore skipping its installation which
      will cause the sampler not being able to start due to the missing
      DLLs. We recommend in this case to install gtk+ and gtkmm manually as
      described above in "<a href="#install_wo_inet">Installation without
      Internet</a>". Just install those mentioned Gtk+ and gtkmm versions
      and then LinuxSampler should work correctly.
    </div>
  </li>
  <li>
    <div style="background-color: #FFF2F2;">
      <u>Problem:</u> The LinuxSampler backend application
      (<i>linuxsampler.exe</i>) fails to start with the error message
      "<i>The application failed to initialize properly (0xc000001d). Click
      on OK to terminate the application.</i>"
    </div>
    <div style="background-color: #F2FFF2;">
      <u>Reason / Solution:</u><a name="old_cpu_workaround"></a>
      This first Windows release of LinuxSampler requires at least an Intel
      Pentium4 processor or a recent AMD processor. If you have an older
      processor and get the error message from above, you can use the
      following workaround for now:
      <ol>
        <li>Download and extract
          <a href="http://download.linuxsampler.org/dev/win32_probs/ls686_20071207.zip">
            these replacement binaries.
          </a>
        </li>
        <li>Copy the 3 binaries manually in your LinuxSampler installation
          directory (default installation directory:
          "C:\Program Files\LinuxSampler"), that is overwrite the existing
          binaries in the LS installation directory with the 3 ones from the
          zip file.
        </li>
      </ol>
      Use this workaround only if you got the mentioned error message,
      because the replacement binaries will otherwise decrease runtime
      efficiency! This is of course just a temporary workaround. We'll
      address this issue with the next release of LinuxSampler (see also
      <a href="https://bugs.linuxsampler.org/cgi-bin/show_bug.cgi?id=67">
      bug report #67</a>).
    </div>
  </li>
</ul>

<a name="docs"></a>
<h3>6.&nbsp; Detailed Documentation</h3>
You find more detailed documentation about our software, i.e. about JSampler
or gigedit on our official <a href="http://linuxsampler.org/documentation.html">
LinuxSampler documentation site</a>.

<a name="bugs"></a>
<h3>7.&nbsp; Bugs, Problems and Feature Requests</h3>
Our Forum is a good place to ask for help:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://bb.linuxsampler.org">https://bb.linuxsampler.org</a><br>
<br>
We have a dedicated forum section for
newbies and support.<br>
<br>
Since the Windows port of LinuxSampler is very young, there could be several
bugs which we hope to root out soon.
Please report them using our bug tracking system:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://bugs.linuxsampler.org/">http://bugs.linuxsampler.org/</a><br>
<br>
Some bugs and problems I discovered so far:
<ul>
  <li>when adding a channel there noises could occur while playing on other
  channels</li>
  <li>if you overload the sampler (CPU overload or disk overload) it
  produces noises</li>
  <li>when editing an instrument using gigedit, after saving it, it could
  happen that LinuxSampler does not accept commands from the GUI anymore.
  if this happens close the GUI and the LinuxSampler console window and
  restart both.</li>
</ul>

<a name="contact"></a>
<h3>8.&nbsp; Contact</h3>
If you have questions or want to help us to improve the sampler,
subscribe to the <a href="http://www.linuxsampler.org/developers.html">
LinuxSampler Developer's mailing list</a>. Alternatively, since I did most
of of the Windows porting, you can write me (Benno) directly about Windows
related issues. You can find my email address here:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.linuxsampler.org/developers.html">http://www.linuxsampler.org/developers.html</a>
<br><br>
That's it, enjoy!<br>
<br>

</body>
</html>
